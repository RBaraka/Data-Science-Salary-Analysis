<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "layer": [{"data": {"url": "https://cdn.jsdelivr.net/npm/vega-datasets@v1.29.0/data/world-110m.json", "format": {"feature": "countries", "type": "topojson"}}, "mark": {"type": "geoshape", "fill": "lightsteelblue", "stroke": "white", "strokeWidth": 0.8}, "projection": {"type": "equalEarth"}, "title": {"text": "Global Data Science Jobs by Country", "anchor": "start", "color": "black", "dx": 20, "dy": 20, "fontSize": 18, "fontWeight": "bold", "subtitle": "Major Markets Only (Optimized)"}}, {"data": {"name": "data-6137673fd2733aff5cfbe936f3fe2247"}, "mark": {"type": "circle", "opacity": 0.8}, "encoding": {"color": {"field": "company_location", "legend": {"columns": 1, "labelFontSize": 9, "labelLimit": 120, "offset": 10, "orient": "right", "titleFontSize": 11, "titleLimit": 150}, "scale": {"range": ["#d73027", "#fc8d59", "#91bfdb", "#4575b4", "#fee08b", "#762a83", "#af8dc3", "#7fbf7b", "#1b7837", "#f46d43"]}, "sort": {"field": "job_count", "order": "descending"}, "title": "Country (by Job Count)", "type": "nominal"}, "latitude": {"field": "latitude", "type": "quantitative"}, "longitude": {"field": "longitude", "type": "quantitative"}, "size": {"field": "job_count", "legend": {"direction": "horizontal", "labelFontSize": 9, "offset": 3, "orient": "bottom-left", "titleFontSize": 11, "titleLimit": 200}, "scale": {"range": [80, 600], "type": "sqrt"}, "title": "Number of Jobs", "type": "quantitative"}, "tooltip": [{"field": "company_location", "title": "Country", "type": "nominal"}, {"field": "job_count", "title": "Number of Jobs", "type": "quantitative"}, {"field": "work_ratio", "title": "On-site | Remote | Hybrid %", "type": "nominal"}]}, "projection": {"type": "equalEarth"}}, {"data": {"name": "data-6eb01bb4c7b3c37b76a71333c12187d3"}, "mark": {"type": "text", "align": "center", "baseline": "middle", "color": "black", "dy": -12, "fontSize": 8, "fontWeight": "bold"}, "encoding": {"latitude": {"field": "latitude", "type": "quantitative"}, "longitude": {"field": "longitude", "type": "quantitative"}, "text": {"field": "job_count", "format": ".0f", "type": "quantitative"}}, "projection": {"type": "equalEarth"}}], "height": 450, "resolve": {"scale": {"color": "independent", "size": "independent"}}, "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-6137673fd2733aff5cfbe936f3fe2247": [{"company_location": "United States", "job_count": 18702, "latitude": 39.8283, "longitude": -98.5795, "onsite_percentage": 73.4627312586889, "remote_percentage": 26.2806116992835, "hybrid_percentage": 0.25665704202759065, "work_ratio": "73 | 26 | 0"}, {"company_location": "Canada", "job_count": 1091, "latitude": 56.1304, "longitude": -106.3468, "onsite_percentage": 69.38588450962419, "remote_percentage": 28.964252978918424, "hybrid_percentage": 1.6498625114573784, "work_ratio": "69 | 29 | 2"}, {"company_location": "United Kingdom", "job_count": 899, "latitude": 55.3781, "longitude": -3.436, "onsite_percentage": 77.64182424916574, "remote_percentage": 19.46607341490545, "hybrid_percentage": 2.8921023359288096, "work_ratio": "78 | 19 | 3"}, {"company_location": "Netherlands", "job_count": 364, "latitude": 52.1326, "longitude": 5.2913, "onsite_percentage": 89.83516483516483, "remote_percentage": 6.868131868131869, "hybrid_percentage": 3.296703296703297, "work_ratio": "90 | 7 | 3"}, {"company_location": "Spain", "job_count": 206, "latitude": 40.4637, "longitude": -3.7492, "onsite_percentage": 47.0873786407767, "remote_percentage": 48.54368932038835, "hybrid_percentage": 4.368932038834951, "work_ratio": "47 | 49 | 4"}, {"company_location": "Austria", "job_count": 174, "latitude": 47.5162, "longitude": 14.5501, "onsite_percentage": 90.80459770114942, "remote_percentage": 6.896551724137931, "hybrid_percentage": 2.2988505747126435, "work_ratio": "91 | 7 | 2"}, {"company_location": "Poland", "job_count": 141, "latitude": 51.9194, "longitude": 19.1451, "onsite_percentage": 52.4822695035461, "remote_percentage": 45.39007092198582, "hybrid_percentage": 2.127659574468085, "work_ratio": "52 | 45 | 2"}, {"company_location": "Germany", "job_count": 131, "latitude": 51.1657, "longitude": 10.4515, "onsite_percentage": 51.908396946564885, "remote_percentage": 31.297709923664126, "hybrid_percentage": 16.793893129770993, "work_ratio": "52 | 31 | 17"}, {"company_location": "Ireland", "job_count": 117, "latitude": 53.4129, "longitude": -8.2439, "onsite_percentage": 73.50427350427351, "remote_percentage": 24.786324786324787, "hybrid_percentage": 1.7094017094017095, "work_ratio": "74 | 25 | 2"}, {"company_location": "Australia", "job_count": 115, "latitude": -25.2744, "longitude": 133.7751, "onsite_percentage": 86.08695652173914, "remote_percentage": 8.695652173913043, "hybrid_percentage": 5.217391304347826, "work_ratio": "86 | 9 | 5"}, {"company_location": "France", "job_count": 110, "latitude": 46.2276, "longitude": 2.2137, "onsite_percentage": 55.45454545454545, "remote_percentage": 21.818181818181817, "hybrid_percentage": 22.727272727272727, "work_ratio": "55 | 22 | 23"}, {"company_location": "Brazil", "job_count": 91, "latitude": -14.235, "longitude": -51.9253, "onsite_percentage": 7.6923076923076925, "remote_percentage": 91.20879120879121, "hybrid_percentage": 1.098901098901099, "work_ratio": "8 | 91 | 1"}, {"company_location": "India", "job_count": 74, "latitude": 20.5937, "longitude": 78.9629, "onsite_percentage": 25.675675675675674, "remote_percentage": 44.5945945945946, "hybrid_percentage": 29.72972972972973, "work_ratio": "26 | 45 | 30"}, {"company_location": "Portugal", "job_count": 67, "latitude": 39.3999, "longitude": -8.2245, "onsite_percentage": 46.26865671641791, "remote_percentage": 44.776119402985074, "hybrid_percentage": 8.955223880597014, "work_ratio": "46 | 45 | 9"}, {"company_location": "Italy", "job_count": 56, "latitude": 41.8719, "longitude": 12.5674, "onsite_percentage": 48.214285714285715, "remote_percentage": 41.07142857142857, "hybrid_percentage": 10.714285714285714, "work_ratio": "48 | 41 | 11"}, {"company_location": "Finland", "job_count": 52, "latitude": 61.9241, "longitude": 25.7482, "onsite_percentage": 82.6923076923077, "remote_percentage": 9.615384615384617, "hybrid_percentage": 7.6923076923076925, "work_ratio": "83 | 10 | 8"}, {"company_location": "Switzerland", "job_count": 42, "latitude": 46.8182, "longitude": 8.2275, "onsite_percentage": 76.19047619047619, "remote_percentage": 7.142857142857142, "hybrid_percentage": 16.666666666666664, "work_ratio": "76 | 7 | 17"}, {"company_location": "Japan", "job_count": 33, "latitude": 36.2044, "longitude": 138.2529, "onsite_percentage": 66.66666666666666, "remote_percentage": 21.21212121212121, "hybrid_percentage": 12.121212121212121, "work_ratio": "67 | 21 | 12"}, {"company_location": "Belgium", "job_count": 29, "latitude": 50.5039, "longitude": 4.4699, "onsite_percentage": 41.37931034482759, "remote_percentage": 41.37931034482759, "hybrid_percentage": 17.24137931034483, "work_ratio": "41 | 41 | 17"}, {"company_location": "Singapore", "job_count": 28, "latitude": 1.3521, "longitude": 103.8198, "onsite_percentage": 57.14285714285714, "remote_percentage": 25.0, "hybrid_percentage": 17.857142857142858, "work_ratio": "57 | 25 | 18"}, {"company_location": "Sweden", "job_count": 13, "latitude": 60.1282, "longitude": 18.6435, "onsite_percentage": 46.15384615384615, "remote_percentage": 38.46153846153847, "hybrid_percentage": 15.384615384615385, "work_ratio": "46 | 38 | 15"}, {"company_location": "Norway", "job_count": 9, "latitude": 60.472, "longitude": 8.4689, "onsite_percentage": 44.44444444444444, "remote_percentage": 33.33333333333333, "hybrid_percentage": 22.22222222222222, "work_ratio": "44 | 33 | 22"}, {"company_location": "Denmark", "job_count": 8, "latitude": 56.2639, "longitude": 9.5018, "onsite_percentage": 25.0, "remote_percentage": 37.5, "hybrid_percentage": 37.5, "work_ratio": "25 | 38 | 38"}], "data-6eb01bb4c7b3c37b76a71333c12187d3": [{"company_location": "United States", "job_count": 18702, "latitude": 39.8283, "longitude": -98.5795, "onsite_percentage": 73.4627312586889, "remote_percentage": 26.2806116992835, "hybrid_percentage": 0.25665704202759065, "work_ratio": "73 | 26 | 0"}, {"company_location": "Canada", "job_count": 1091, "latitude": 56.1304, "longitude": -106.3468, "onsite_percentage": 69.38588450962419, "remote_percentage": 28.964252978918424, "hybrid_percentage": 1.6498625114573784, "work_ratio": "69 | 29 | 2"}, {"company_location": "United Kingdom", "job_count": 899, "latitude": 55.3781, "longitude": -3.436, "onsite_percentage": 77.64182424916574, "remote_percentage": 19.46607341490545, "hybrid_percentage": 2.8921023359288096, "work_ratio": "78 | 19 | 3"}, {"company_location": "Netherlands", "job_count": 364, "latitude": 52.1326, "longitude": 5.2913, "onsite_percentage": 89.83516483516483, "remote_percentage": 6.868131868131869, "hybrid_percentage": 3.296703296703297, "work_ratio": "90 | 7 | 3"}, {"company_location": "Spain", "job_count": 206, "latitude": 40.4637, "longitude": -3.7492, "onsite_percentage": 47.0873786407767, "remote_percentage": 48.54368932038835, "hybrid_percentage": 4.368932038834951, "work_ratio": "47 | 49 | 4"}, {"company_location": "Austria", "job_count": 174, "latitude": 47.5162, "longitude": 14.5501, "onsite_percentage": 90.80459770114942, "remote_percentage": 6.896551724137931, "hybrid_percentage": 2.2988505747126435, "work_ratio": "91 | 7 | 2"}, {"company_location": "Poland", "job_count": 141, "latitude": 51.9194, "longitude": 19.1451, "onsite_percentage": 52.4822695035461, "remote_percentage": 45.39007092198582, "hybrid_percentage": 2.127659574468085, "work_ratio": "52 | 45 | 2"}, {"company_location": "Germany", "job_count": 131, "latitude": 51.1657, "longitude": 10.4515, "onsite_percentage": 51.908396946564885, "remote_percentage": 31.297709923664126, "hybrid_percentage": 16.793893129770993, "work_ratio": "52 | 31 | 17"}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>
